Site={mobileThreshold:601,init:function(){var n=this;Site.Menu.init(),$(window).resize(function(){n.onResize()}),$(document).ready(function(){Site.Shapes.init(),Site.Map.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var n=$(this).html();n=n.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(n)})}},Site.Menu={$headerItems:$(".header-menu-item"),init:function(){var n=this;n.bind()},bind:function(){var n=this;n.$headerItems.on("click",function(t){n.onItemClick(this,t)})},onItemClick:function(n,t){$(".header-menu-active").removeClass("header-menu-active"),$(n).addClass("header-menu-active")}},Site.Shapes={currentState:0,maxState:7,timer:null,interval:12e3,init:function(){var n=this;n.setState(),n.startInterval()},startInterval:function(){var n=this;n.timer=setInterval(function(){n.setState()},n.interval)},nextState:function(){var n=this;return n.currentState++,n.currentState>n.maxState&&(n.currentState=1),n.currentState},setState:function(){var n=this;$("#background-shape").removeClass("shape-state-"+n.currentState).addClass("shape-state-"+n.nextState())}},Site.Map={panZoneSize:100,panning:!1,pan:{up:!1,down:!1,left:!1,right:!1},window:{width:0,height:0},mapPosition:!1,init:function(){var n=this;n.getWindowSize(),n.map=document.getElementById("map"),n.setPanZones(),document.addEventListener("mousemove",n.handleMouseMove.bind(n)),window.addEventListener("onmouseleave",n.noPan.bind(n))},getWindowSize:function(){var n=this;n.window.width=window.innerWidth,n.window.height=window.innerHeight},setPanZones:function(){var n=this,t=window.innerWidth,i=window.innerHeight;n.panZones={up:{min:0,max:n.panZoneSize},down:{min:i-n.panZoneSize,max:i},left:{min:0,max:n.panZoneSize},right:{min:t-n.panZoneSize,max:t}}},handleMouseMove:function(n){var t=this,i=n.clientX,e=n.clientY;t.noPan(),e>t.panZones.up.max&&e<t.panZones.down.min&&i>t.panZones.left.max&&i<t.panZones.right.min?t.panning=!1:(t.panning=!0,e>=t.panZones.up.min&&e<=t.panZones.up.max&&(t.pan.up=!0),e>=t.panZones.down.min&&e<=t.panZones.down.max&&(t.pan.down=!0),i>=t.panZones.left.min&&i<=t.panZones.left.max&&(t.pan.left=!0),i>=t.panZones.right.min&&i<=t.panZones.right.max&&(t.pan.right=!0),t.triggerAnimation())},noPan:function(){var n=this;console.log("no pan"),n.pan={up:!1,down:!1,left:!1,right:!1}},triggerAnimation:function(){var n=this;window.requestAnimationFrame(n.animate.bind(n))},animate:function(){var n=this;return!n.panning||(n.mapPosition||(n.mapPosition=n.getMapPosition()),n.pan.up&&n.mapPosition[5]<=0&&(n.mapPosition[5]=n.mapPosition[5]+1),n.pan.down&&n.mapPosition[5]>=n.window.height*-2&&(n.mapPosition[5]=n.mapPosition[5]-1),n.pan.left&&n.mapPosition[4]<=0&&(n.mapPosition[4]=n.mapPosition[4]+1),n.pan.right&&n.mapPosition[4]>=n.window.width*-2&&(n.mapPosition[4]=n.mapPosition[4]-1),n.map.style.transform="matrix("+n.mapPosition.toString()+")",void window.requestAnimationFrame(n.animate.bind(n)))},getMapPosition:function(){var n=getComputedStyle(this.map).transform;return n=n.replace("matrix(","").replace(")",""),n=n.split(", ").map(function(n){return parseInt(n,10)})}},Site.init();
//# sourceMappingURL=main.min.js.map
