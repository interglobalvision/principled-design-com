Site={mobileThreshold:601,init:function(){var t=this;Site.Menu.init(),$(window).resize(function(){t.onResize()}),$(document).ready(function(){Site.Shapes.init(),Site.Map.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var t=$(this).html();t=t.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(t)})}},Site.Menu={$headerItems:$(".header-menu-item"),init:function(){var t=this;t.bind()},bind:function(){var t=this;t.$headerItems.on("click",function(e){t.onItemClick(this,e)})},onItemClick:function(t,e){$(".header-menu-active").removeClass("header-menu-active"),$(t).addClass("header-menu-active")}},Site.Shapes={currentState:0,maxState:7,timer:null,interval:12e3,init:function(){var t=this;t.setState(),t.startInterval()},startInterval:function(){var t=this;t.timer=setInterval(function(){t.setState()},t.interval)},nextState:function(){var t=this;return t.currentState++,t.currentState>t.maxState&&(t.currentState=1),t.currentState},setState:function(){var t=this;$("#background-shape").removeClass("shape-state-"+t.currentState).addClass("shape-state-"+t.nextState())}},Site.Map={panZoneSize:100,distanceThreshold:80,thresholdRadious:!1,panning:!1,pan:{up:!1,down:!1,left:!1,right:!1},window:{width:0,height:0},mouse:{x:0,y:0},center:{width:0,height:0},mapPosition:!1,init:function(){var t=this;t.getWindowSize(),t.map=document.getElementById("map"),t.setPanZones(),document.addEventListener("mousemove",t.handleMouseMove.bind(t)),document.body.addEventListener("mouseleave",t.noPan.bind(t))},getWindowSize:function(){var t=this;t.window.width=window.innerWidth,t.window.height=window.innerHeight,t.window.center={x:t.window.width/2,y:t.window.height/2}},setPanZones:function(){var t=this;t.window.height/t.window.width<=1?t.thresholdRadious=t.window.height*(t.distanceThreshold/100)/2:t.window.width/t.window.height>1&&(t.thresholdRadious=t.window.width*(t.distanceThreshold/100)/2)},handleMouseMove:function(t){var e=this;e.mouse.x=t.clientX,e.mouse.y=t.clientY,e.triggerAnimation()},noPan:function(){var t=this;t.pan={up:!1,down:!1,left:!1,right:!1},t.panning=!1},triggerAnimation:function(){var t=this;window.requestAnimationFrame(t.animate.bind(t))},animate:function(){var t=this;if(!t.animate)return!1;if(t.distanceFromCenter()>t.thresholdRadious){var e=t.angleFromCenter(),n=.01*(t.distanceFromCenter()-t.thresholdRadious);t.mapPosition||(t.mapPosition=t.getMapPosition()),t.mapPosition[4]+=n*Math.cos(e),t.mapPosition[5]+=n*Math.sin(e),t.map.style.transform="matrix("+t.mapPosition.toString()+")",window.requestAnimationFrame(t.animate.bind(t))}},distanceFromCenter:function(){var t=this,e=Math.pow(t.window.center.x-t.mouse.x,2),n=Math.pow(t.window.center.y-t.mouse.y,2),i=Math.sqrt(e+n);return i},angleFromCenter:function(){var t=this,e=t.window.center.y-this.mouse.y,n=t.window.center.x-this.mouse.x,i=Math.atan2(e,n);return i*=180/Math.PI,i<0&&(i=360+i),i},getMapPosition:function(){var t=getComputedStyle(this.map).transform;return t=t.replace("matrix(","").replace(")",""),t=t.split(", ").map(function(t){return parseInt(t,10)})}},Site.init();
//# sourceMappingURL=main.min.js.map
